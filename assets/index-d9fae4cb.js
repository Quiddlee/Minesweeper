var I=Object.defineProperty;var D=(_,i,e)=>i in _?I(_,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[i]=e;var c=(_,i,e)=>(D(_,typeof i!="symbol"?i+"":i,e),e);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();const G=["1-1","2-1","3-2","2-3","3-4","2-5","1-5","1-8","2-8","3-8","5-1","6-1","7-1","8-1","6-2","7-3","8-4","5-4","6-4","7-4","5-8","6-8","8-8","5-6","6-6","8-6"],y=new Map([["ease",["0-2","1-2","2-2","3-2","3-3","1-5","2-5","0-6","1-7","2-7","3-6","5-2","5-3","5-4","6-2","7-3","8-4","9-2","9-3","9-4","5-6","5-7","6-6","7-6","7-7","8-6","9-6","9-7"]],["medium",["2-4","3-4","4-4","5-4","5-5","5-6","3-8","4-8","2-9","3-10","4-10","5-9","7-4","7-5","7-6","8-4","9-5","10-6","11-4","11-5","11-6","7-8","7-9","8-8","9-8","9-9","10-8","11-8","11-9","7-10","9-10","11-10"]],["hard",["2-8","3-8","4-8","5-8","5-9","5-10","3-12","4-12","2-13","3-14","4-14","5-14","7-8","7-9","7-10","8-8","9-9","10-10","11-8","11-9","11-10","7-12","7-13","8-12","9-12","9-13","10-12","11-12","11-13","7-14","9-14","11-14"]]]),u={DEF:"game-field__cell",MARKED:"game-field__cell--marked",TEXT:"game-field__cell-text",OPEN_LIGHT:"game-field__cell--open-light",OPEN_DARK:"game-field__cell--open-dark",CLOSED:"game-field__cell--close",CELL_MARK_ICON:"game-field__cell__mark-icon"},E={BTN:"btn",CLOSE:"btn--close",ROUNDED:"btn--rounded",POPUP:"popup__btn"},C={POPUP:"popup",POPUP_ACTIVE:"popup-active",POPUP_WIN:"popup--win",POPUP_LOSE:"popup--lose"},d={CONTROLS:"controls",RESTART_GAME:"controls__restart-game",RESTART_GAME_ICON:"controls__restart-game__icon",NUM_OF_FLAGS:"controls__num-of-flags",NUM_OF_FLAGS_NUM:"controls__num-of-flags__num",NUM_OF_FLAGS_ICON:"controls__num-of-flags__icon",COUNTER:"controls__click-counter",ClICK_COUNTER:"controls__click-counter",NUM_OF_MINES:"controls__num-of-mines",NUM_OF_MINES_ICON:"controls__num-of-mines__icon",NUM_OF_MINES_NUM:"controls__num-of-mines__num",TIMER:"controls__timer-wrapper__timer",TIMER_WRAPPER:"controls__timer-wrapper",TIMER_ICON:"controls__timer-wrapper__icon",OPEN_MENU_BTN:"controls__open-menu-btn",OPEN_MENU_BTN_INNER:"controls__open-menu-btn__inner"},n={MENU:"menu",POPUP_MENU:"popup--menu",POPUP_MENU_ACTIVE:"popup--menu--active",POPUP_MENU_INNER:"popup--menu__inner",THEME_TOGGLE:"menu__theme-toggle",THEME_TOGGLE_WRAPPER:"menu__theme-toggle__wrapper",THEME_TOGGLE_MOON:"menu__theme-toggle__moon",THEME_TOGGLE_MOON_ACTIVE:"menu__theme-toggle__moon-active",THEME_TOGGLE_SUN:"menu__theme-toggle__sun",THEME_TOGGLE_SUN_ACTIVE:"menu__theme-toggle__sun-active",THEME_TOGGLE_SUN_SUNBEAM:"menu__theme-toggle__sun__sunbeam",THEME_TOGGLE_SUN_SUNBEAM_ACTIVE:"menu__theme-toggle__sun__sunbeam-active",THEME_TOGGLE_CIRCLE:"menu__theme-toggle__circle",THEME_TOGGLE_CIRCLE_POS_LIGHT:"menu__theme-toggle__circle-pos-light",THEME_TOGGLE_CIRCLE_MOVE:"menu__theme-toggle__circle-move",DIFF_TABS_WRAPPER:"menu__difficulty",DIFF_TAB:"menu__difficulty__tab",DIFF_TAB_1:"menu__difficulty__tab--0",DIFF_TAB_2:"menu__difficulty__tab--1",DIFF_TAB_3:"menu__difficulty__tab--2",DIFF_TAB_ACTIVE:"menu__difficulty__tab--active",SOUND_ADJ:"menu__sound-adjustment",SOUND_ADJ_ICON:"menu__sound-adjustment__icon",SOUND_ADJ_ICON_ACTIVE:"menu__sound-adjustment__icon--active",LATEST_RESULT_BTN:"menu__latest-result--btn",LATEST_RESULT_BTN_ICON:"menu__latest-result--btn__icon",LATEST_RESULTS:"menu__latest-results-wrapper",LATEST_RES_BLOCK:"menu__latest-results-wrapper__res__block",LATEST_RES:"menu__latest-results-wrapper__res",LATEST_RES_WIN:"menu__latest-results-wrapper__res--win",LATEST_RES_LOSE:"menu__latest-results-wrapper__res--lose",LATEST_RESULTS_BTN_BACK:"menu__latest-results-wrapper__btn-back",LATEST_RESULTS_BTN_BACK_ICON:"menu__latest-results-wrapper__btn-back__icon"},a={COLOR_PRIMARY_DARK:"--color-dark-primary",COLOR_SECONDARY_LIGHT:"--color-dark-secondary",COLOR_LIGHT_PRIMARY:"--color-light-primary",COLOR_LIGHT_SECONDARY:"--color-light-secondary",COLOR_PRIMARY:"--color-primary",COLOR_SECONDARY:"--color-secondary",UNOPENED_CELL_DARK:"--color-dark-unopened-cells",UNOPENED_CELL_LIGHT:"--color-light-unopened-cells",UNOPENED_CELL:"--color-unopened-cells",CELL_OPENED_DARK_EVEN:"--cell-opened-dark-even",CELL_OPENED_DARK_ODD:"--cell-opened-dark-odd",CELL_OPENED_LIGHT_EVEN:"--cell-opened-light-even",CELL_OPENED_LIGHT_ODD:"--cell-opened-light-odd",CELL_OPENED_EVEN:"--cell-opened-even",CELL_OPENED_ODD:"--cell-opened-odd",MARK_ICON:"--mark-icon",COLOR_DARK_MARK_CELL:"--color-dark-mark-cell",COLOR_LIGHT_MARK_CELL:"--color-light-mark-cell",COLOR_MARK_CELL:"--color-mark-cell",GAME_FIELD_WIDTH:"--game-field-width",GAME_FIELD_HEIGHT:"--game-field-height",CELL_WIDTH:"--cell-width",CELL_HEIGHT:"--cell-height",POPUP_DARK:"--popup-dark",POPUP_LIGHT:"--popup-light",POPUP_COLOR:"--color-popup",CELL_TEXT_DARK_GREEN:"--cell-text-color-dark-green",CELL_TEXT_DARK_YELLOW:"--cell-text-color-dark-yellow",CELL_TEXT_DARK_RED:"--cell-text-color-dark-red",CELL_TEXT_LIGHT_GREEN:"--cell-text-color-light-green",CELL_TEXT_LIGHT_YELLOW:"--cell-text-color-light-yellow",CELL_TEXT_LIGHT_RED:"--cell-text-color-light-red",CELL_TEXT_GREEN:"--cell-text-color-green",CELL_TEXT_YELLOW:"--cell-text-color-yellow",CELL_TEXT_RED:"--cell-text-color-red"},N={LOSE:"assets/sounds/lose.mp3",WIN:"assets/sounds/win.mp3",CELL_CLICK:"assets/sounds/cell.mp3"},f=new Map([["ease",{size:100,rowColNum:10,gameFieldHeight:"40rem",gameFieldWidth:"40rem",cellHeight:"4rem",cellWidth:"4rem"}],["medium",{size:225,rowColNum:15,gameFieldHeight:"50rem",gameFieldWidth:"50rem",cellHeight:"3.3333333333333333333333333333333rem",cellWidth:"3.3333333333333333333333333333333rem"}],["hard",{size:625,rowColNum:25,gameFieldHeight:"50rem",gameFieldWidth:"50rem",cellHeight:"2rem",cellWidth:"2rem"}]]),l=JSON.parse(localStorage.getItem("user-data"))||{},R=function(_){console.log(l.gameData.length,l.gameData),l.gameData.length===10&&l.gameData.pop(),l.gameData.unshift(_),h()},h=()=>localStorage.setItem("user-data",JSON.stringify(l));l.gameData||(l.gameData=[]);class O{constructor(){c(this,"latestGames");this.popup=document.createElement("dialog"),this.popupCloseBtn=document.createElement("button"),this.menu=document.createElement("div"),this.popupInner=document.createElement("div"),this.popupCloseBtn.addEventListener("click",this._closePopupHandler.bind(this)),this.popup.addEventListener("keydown",this._closePopupHandler.bind(this)),document.body.addEventListener("click",this._closeOutsidePopup.bind(this))}_openPopup(i){const e=document.querySelector(`.${i}`);e.showModal(),e.classList.add(C.POPUP_ACTIVE),e.blur()}_animateAndClosePopup(){this.popup.style.animation="popupFadeOut .3s",this.popup.classList.remove(C.POPUP_ACTIVE),this.popup.addEventListener("animationend",()=>{this.popup.style.animation="",this.popup.close(),g.btnBack.click()},{once:!0})}_closePopupHandler(i){(i.key==="Escape"||i.target.classList.contains(E.CLOSE))&&(i.preventDefault(),this._animateAndClosePopup())}_closeOutsidePopup(i){if(i.target!==this.popup)return;const e=i.target.getBoundingClientRect();e.top<=i.clientY&&i.clientY<=e.top+e.height&&e.left<=i.clientX&&i.clientX<=e.left+e.width||this._animateAndClosePopup()}_renderPopup(i,e="",t=!0){t&&(this._renderInner(),this.popup.classList.add(C.POPUP,i),this.menu.classList.add(n.MENU),this.popupInner.prepend(this.popupCloseBtn,this.menu),document.body.prepend(this.popup),this.menu.innerHTML=e),t||(this.popup.classList.add(C.POPUP,i),this.popup.prepend(this.popupCloseBtn),document.body.prepend(this.popup),this.popup.innerHTML=e),this.popup=document.querySelector(`.${C.POPUP}`)}_renderPopupCloseBtn(){this.popupCloseBtn.classList.add(E.POPUP,E.BTN,E.CLOSE),this.popupCloseBtn.textContent="âœ–",this.popup.append(this.popupCloseBtn)}_renderInner(){this.popupInner.classList.add(n.POPUP_MENU_INNER),this.popup.append(this.popupInner)}init(i,e,t){this._renderPopup(i,e,t),this._renderPopupCloseBtn()}}class U extends O{constructor(){super(...arguments);c(this,"marks",0);c(this,"marksCounterElem",document.querySelector(`.${d.NUM_OF_FLAGS_NUM}`))}_addMarkHandler(e){e.preventDefault();const t=e.target.closest(".game-field__cell"),s=this._getCellData(t==null?void 0:t.dataset.id);t!=null&&t.classList.contains(u.CLOSED)&&((t==null?void 0:t.innerHTML.length)>0?this._removeMark(t,s):this._addMark(t,s),l.cells=JSON.stringify(Object.fromEntries(m.cells.entries())),h())}_renderMark(){const e=document.createElement("div");return e.classList.add(u.CELL_MARK_ICON),e.innerHTML=`
            <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="flag">
                    <path id="Vector" d="M0 0H4V32H0V0Z"/>
                    <g class="hide" id="banner">
                        <path id="Vector_2" d="M26 20.0939C28.582 20.0939 30.83 19.4689 32 18.5469V2.54688C30.83 3.46887 28.582 4.09387 26 4.09387C23.418 4.09387 21.17 3.46887 20 2.54688V18.5469C21.17 19.4689 23.418 20.0939 26 20.0939Z"/>
                        <path id="Vector_3" d="M19 1.016C17.534 0.393 15.39 0 13 0C9.988 0 7.365 0.625 6 1.547V17.547C7.365 16.625 9.988 16 13 16C15.39 16 17.534 16.393 19 17.016V1.016Z"/>
                    </g>
                </g>
            </svg>
        `,e}_addMark(e,t){e.append(this._renderMark());const s=e.querySelector("#banner");e.classList.add(u.MARKED),t.isFlag=!0,s.addEventListener("animationend",()=>{s.classList.remove("hide"),s.classList.add("show")},{once:!0}),this.marks++,this._renderMarksNums()}_removeMark(e,t){const s=e.querySelector("#banner"),r=e.querySelector("#flag");s.style.animation="markBannerFadeOut .2s",r.style.animation="markStickFadeOut .2s",t.isFlag=!1,s.addEventListener("animationend",()=>{e.classList.remove(u.MARKED),e.innerHTML=""},{once:!0}),this.marks--,this._renderMarksNums()}_renderMarksNums(){const e=this.marksCounterElem;return e.textContent=this.marks||0,this}}class w extends U{constructor(){super(...arguments);c(this,"animate");c(this,"clickAnimationQueue",new Set);c(this,"isWin",!1)}_clickHandler(e){this.isWin=!1;const t=e.target,s=t.classList;if(l.time=m.timerCounter,this._playSound(N.CELL_CLICK),!s.contains(u.DEF)||s.contains(u.MARKED))return;const r=this._getCellData(t.dataset.id);if(r.isMine){this._playSound(N.LOSE);const o=m.getGameData();return o.isLose=!0,R(o),g.renderGameResults(),this._clearCells().then(m.restartGame.bind(m)),this._openPopup(C.POPUP_LOSE)}this.animate=this._createAnimateFunction(this.clickAnimationQueue),this._showMinesAroundNum(r,t),this._openCell(r,t),this._checkForWin(),r.minesAround===0&&this._openAdjacentCells(r),Promise.all(this.clickAnimationQueue).then(()=>{l.cells=JSON.stringify(Object.fromEntries(m.cells.entries())),h()})}_playSound(e){if(l.isMuted)return;const t=new Audio(e);t.volume=.7,t.play()}_showMinesAroundNum(e,t){const s=document.createElement("span");t.textContent="",s.textContent=e.minesAround||"",s.style.color=e.minesAround===1?`var(${a.CELL_TEXT_GREEN})`:e.minesAround===2?`var(${a.CELL_TEXT_YELLOW})`:s.style.color=`var(${a.CELL_TEXT_RED})`,s.classList.add(u.TEXT),t.append(s)}_paintChessBoard(e,t){const s=parseInt(e),r=parseInt(e==null?void 0:e.slice(e.indexOf("-")));(s%2===0&&r%2===0||s%2!==0&&r%2!==0)&&t.classList.add(u.OPEN_LIGHT),(s%2===0&&r%2!==0||s%2!==0&&r%2===0)&&t.classList.add(u.OPEN_DARK)}_openCell(e,t){const{id:s}=e;e.isFlag=e.isClose=!1,t.style.animation="cellFadeOut .2s",t.onanimationend=()=>{t.classList.remove(u.CLOSED,u.MARKED)},this._paintChessBoard(s,t)}_createAnimateFunction(e,t=.1){let s=0,r=1;return o=>{if(s+=30/(r+=t),!e)return setTimeout(o,s);const L=new Promise(p=>{setTimeout(()=>p(o()),s)});e.add(L)}}_checkForWin(){if(this.isWin)return;for(const t of this.cells.values())if(!t.isMine&&t.isClose)return;this._playSound(N.WIN);const e=m.getGameData();e.isWin=!0,R(e),g.renderGameResults(),this._clearCells().then(m.restartGame.bind(m)),this._openPopup(C.POPUP_WIN),this.isWin=!0}_getAdjacentCellsAround(e){const t=Number.parseInt(e),s=Number.parseInt(e==null?void 0:e.slice(e.indexOf("-")+1));return[`${t}-${s+1}`,`${t-1}-${s}`,`${t}-${s-1}`,`${t+1}-${s}`,`${t+1}-${s+1}`,`${t-1}-${s-1}`,`${t+1}-${s-1}`,`${t-1}-${s+1}`]}_openAdjacentCells({id:e}){this._checkForWin(),this._getAdjacentCellsAround(e).forEach(t=>{const s=this._getCellData(t),r=this._getCellElement(t);!r||!s.isClose||s.isMine||(s.isClose=!1,this.animate(()=>{this._openCell(s,r),this._showMinesAroundNum(s,r)}),s.minesAround===0&&setTimeout(this._openAdjacentCells.bind(this,s)))})}_clearCells(e=.1){const t=new Set;return this.animate=this._createAnimateFunction(t,e),this.cells.forEach(s=>{const r=this._getCellElement(s.id);this.animate(()=>{r.classList.remove(u.MARKED);const o=r.firstElementChild;o&&(o.style.animation="textFadeOut .2s",o.onanimationend=()=>r.textContent=""),this._paintChessBoard(s.id,r)})}),Promise.all(t)}_drawMessage(e){this.timerId&&clearInterval(this.timerId),this.animate=this._createAnimateFunction(),e.forEach(t=>{const s=this._getCellElement(t);this.animate(()=>{s.className=u.DEF,s.classList.add(u.CLOSED)})})}_drawLoseMessage(){this._clearCells().then(this._drawMessage.bind(this,y.get(l.difficulty)))}_drawWinMessage(){this._clearCells().then(this._drawMessage.bind(this,G))}}class v extends w{constructor(){super();c(this,"cells");c(this,"timerId");c(this,"cssVar",document.documentElement.style);c(this,"gameSize");c(this,"rowColSize");c(this,"timerCounter");if({isFirstLoad:this.isFirstLoad=!0,difficulty:this.difficulty="ease",numOfMines:this.numOfMines=10,time:this.timerCounter=0}=l,{size:this.gameSize,rowColNum:this.rowColSize}=f.get(this.difficulty),l.cells){const s=new Map(Object.entries(JSON.parse(l.cells)));this.cells=s.size!==0?s:this._generateCells(this.gameSize)}else this.cells=this._generateCells(this.gameSize);this.gameField=this._initializeGameField();const e=document.querySelector(`.${d.RESTART_GAME}`);e.addEventListener("click",this.restartGame.bind(this,e)),this.gameField.addEventListener("click",this._clickHandler.bind(this)),this.gameField.addEventListener("contextmenu",this._addMarkHandler.bind(this)),document.querySelector(`.${n.DIFF_TABS_WRAPPER}`).addEventListener("click",this._setDifficulty.bind(this))}_setDifficulty(e){const t=e.target;if(!t.classList.contains(n.DIFF_TAB))return;const s=t.textContent.toLowerCase();this.difficulty!==s&&(this.difficulty=s,l.difficulty=this.difficulty,h(),{size:this.gameSize,rowColNum:this.rowColSize}=f.get(this.difficulty),this.restartGame("_",!0))}_setGameFieldSize(){const{gameFieldHeight:e,gameFieldWidth:t,cellWidth:s,cellHeight:r}=f.get(this.difficulty);this.cssVar.setProperty(a.GAME_FIELD_HEIGHT,e),this.cssVar.setProperty(a.GAME_FIELD_WIDTH,t),this.cssVar.setProperty(a.CELL_HEIGHT,r),this.cssVar.setProperty(a.CELL_WIDTH,s)}_initializeGameField(){const e=document.createElement("div");return document.body.setAttribute("id","app"),document.body.prepend(e),e.classList.add("game-field"),this._setGameFieldSize(),e}_getCellData(e){return this.cells.get(e)||{}}_getCellElement(e){return document.querySelector(`[data-id='${e}']`)}_countMinesAround(e){this._getAdjacentCellsAround(e).forEach(t=>{this._getCellData(t).minesAround++})}_insertMines(e){const t=new Set;for(;e!==t.size;){const s=Math.floor(Math.random()*+(this.rowColSize+"0"))/10,r=Number.isInteger(s)?`${s}-0`:s.toString().replace(".","-");if(t.has(r))continue;t.add(r),this._countMinesAround(r);const o=this._getCellData(r);o.isMine=!0}}_generateCells(e){const t=new Map;let s=0,r=0;for(let o=0;o<e;o++){o%this.rowColSize===0&&o!==0&&(r=0,s++);const L={id:`${s}-${r}`,isMine:!1,isFlag:!1,isClose:!0,minesAround:0};t.set(L.id,L),r++}return t}_renderGame(){this.gameField.innerHTML="";const e=new Set,t=new Set,s=this._createAnimateFunction(e);let r=1,o=this.difficulty==="ease"?3e-4:this.difficulty==="medium"?1e-4:5e-5;for(const L of this.cells.entries()){const[p,M]=L,A=p.slice(0,p.indexOf("-")),P=p.slice(p.indexOf("-")+1),T=document.createElement("div");T.dataset.id=`${A}-${P}`,T.classList.add(u.DEF),this.gameField.append(T),t.add({cellElem:T,cellData:M}),s(()=>{if(r<=1.2&&(r+=o),this.gameField.style.scale=r,M.isClose)return T.classList.add(u.CLOSED);M.isClose||(this._openCell(M,T),this._showMinesAroundNum(M,T),this._paintChessBoard(p,T))})}Promise.all(e).then(()=>{t.forEach(({cellElem:L,cellData:p})=>{p.isFlag&&this._addMark.call(this,L,p)}),this.gameField.style="",this.gameField.animate([{scale:r},{scale:.99,offset:.2},{scale:1}],{duration:300})})}restartGame(e,t=!1){this.timerId&&clearInterval(this.timerId);try{e.style.animation="restartFlip 1.5s",e.addEventListener("animationend",()=>e.style.animation="",{once:!0})}catch{}t&&this._setGameFieldSize(),{numOfMines:this.numOfMines=10}=l,l.clicks=l.time=null,h(),m.timerCounter=0,this.cells=this._generateCells(this.gameSize),this._insertMines(this.numOfMines),S.resetCounter(),this.init.call(this),l.cells=JSON.stringify(Object.fromEntries(this.cells.entries())),h()}_updateTimer(){this.timerId&&clearInterval(this.timerId);const e=document.querySelector(`.${d.TIMER}`);e.textContent="00:00";const t=s=>{const r=Math.floor(s/60).toString(),o=Math.floor(s%60).toString();e.textContent=`${r.padStart(2,"0")}:${o.padStart(2,"0")}`};this.timerId=setInterval(()=>{t(++this.timerCounter)},1e3)}_displayNumOfMines(){const e=document.querySelector(`.${d.NUM_OF_MINES_NUM}`);e.textContent=this.numOfMines}_resetMarksCounter(){const e=this._renderMarksNums();e.marks=0,this._renderMarksNums()}getGameData(){const{counterNum:e}=S;return{numOfMines:this.numOfMines,numOfFlags:this.marks,timer:this.timerCounter,counterNum:e,isLose:!1,isWin:!1}}init(){this.isFirstLoad&&(this.numOfMines=0,this.isFirstLoad=!1,l.isFirstLoad=this.isFirstLoad,h()),this._renderGame(),this._updateTimer(),this._displayNumOfMines(),this._resetMarksCounter()}}class H{constructor(){this.restartBtn=document.createElement("button"),this.restartIcon=document.createElement("div")}_renderBtn(){this.restartBtn.classList.add(E.BTN,E.ROUNDED,d.RESTART_GAME),document.querySelector(`.${d.CONTROLS}`).prepend(this.restartBtn),this.restartIcon.classList.add(d.RESTART_GAME_ICON),this.restartIcon.innerHTML=`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <path d="M0.685 10h2.372v-0.205c0.108-4.434 3.724-7.996 8.169-7.996 4.515 0 8.174 3.672 8.174 8.201s-3.659 8.199-8.174 8.199c-1.898 0-3.645-0.65-5.033-1.738l1.406-1.504c1.016 0.748 2.27 1.193 3.627 1.193 3.386 0 6.131-2.754 6.131-6.15s-2.745-6.15-6.131-6.15c-3.317 0-6.018 2.643-6.125 5.945v0.205h2.672l-3.494 3.894-3.594-3.894z"></path>
            </svg>
        `,this.restartBtn.append(this.restartIcon)}init(){this._renderBtn()}}class B{constructor(){this.menuElem=document.createElement("div")}_renderMenu(){document.body.prepend(this.menuElem),this.menuElem.classList.add("controls")}init(){this._renderMenu()}}class F{constructor(){this.timerWrapper=document.createElement("div"),this.icon=document.createElement("div"),this.timer=document.createElement("div")}_renderTimer(){this.timerWrapper.classList.add(d.TIMER_WRAPPER),document.querySelector(".controls").prepend(this.timerWrapper),this.icon.classList.add(d.TIMER_ICON),this.icon.innerHTML=`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                <title>clock</title>
                <path d="M20.586 23.414l-6.586-6.586v-8.828h4v7.172l5.414 5.414zM16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 28c-6.627 0-12-5.373-12-12s5.373-12 12-12c6.627 0 12 5.373 12 12s-5.373 12-12 12z"></path>
            </svg>
        `,this.timer.classList.add(d.TIMER),this.timerWrapper.prepend(this.icon,this.timer)}init(){this._renderTimer()}}class b{constructor(){this.counter=document.createElement("div"),this.counterNum=l.clicks?l.clicks:0,window.addEventListener("click",i=>{i.target.classList.contains(u.DEF)&&(this.counter.textContent=++this.counterNum,l.clicks=this.counterNum,h())})}get clicks(){return this.counterNum}_renderCounter(){this.counter.classList.add(d.COUNTER),this.counter.textContent=this.counterNum,document.querySelector(".controls").prepend(this.counter)}resetCounter(){this.counter.textContent=this.counterNum=0}init(){this._renderCounter()}}class k{constructor(){this.numOfFlags=document.createElement("div"),this.icon=document.createElement("div"),this.num=document.createElement("span")}_renderCounter(){this.numOfFlags.classList.add(d.NUM_OF_FLAGS),this.num.classList.add(d.NUM_OF_FLAGS_NUM),this.num.textContent=0,this.icon.classList.add(d.NUM_OF_FLAGS_ICON),this.icon.innerHTML=`
            <svg viewBox="0 0 32 32" fill="" xmlns="http://www.w3.org/2000/svg">
                <g>
                    <path d="M0 0H4V32H0V0Z" fill=""/>
                    <g>
                        <path id="Vector_2" d="M26 20.0939C28.582 20.0939 30.83 19.4689 32 18.5469V2.54688C30.83 3.46887 28.582 4.09387 26 4.09387C23.418 4.09387 21.17 3.46887 20 2.54688V18.5469C21.17 19.4689 23.418 20.0939 26 20.0939Z" fill=""/>
                        <path id="Vector_3" d="M19 1.016C17.534 0.393 15.39 0 13 0C9.988 0 7.365 0.625 6 1.547V17.547C7.365 16.625 9.988 16 13 16C15.39 16 17.534 16.393 19 17.016V1.016Z" fill=""/>
                    </g>
                </g>
            </svg>
        `,this.numOfFlags.append(this.icon,this.num),document.querySelector(".controls").prepend(this.numOfFlags)}init(){this._renderCounter()}}class V{constructor(){c(this,"numOfMines",document.createElement("div"));c(this,"icon",document.createElement("div"));c(this,"num",document.createElement("span"))}_renderMinesNum(){this.numOfMines.classList.add(d.NUM_OF_MINES),this.icon.classList.add(d.NUM_OF_MINES_ICON),this.icon.innerHTML=`
            <svg viewBox="0 0 751 752" xmlns="http://www.w3.org/2000/svg">
                <g>
                    <path d="M728.093 354.04L686.031 342.962C680.958 341.613 675.666 341.316 670.473 342.092C665.13 300.352 650.681 260.289 628.167 224.743L664.131 163.764C672.469 149.701 669.11 141.488 664.876 137.133C660.646 132.779 652.433 129.295 638.245 137.133L582.495 168.868V168.863C534.542 122.915 472.511 94.4667 406.402 88.1027L388.105 19.78C383.626 3.97732 375.662 0.618652 369.313 0.618652C363.219 0.618652 355.13 3.97799 350.771 19.78L331.859 89.7173C269.318 98.7121 211.286 127.447 166.219 171.728L105.985 137.379C91.7968 129.29 83.7088 132.775 79.3541 137.379C75 141.983 71.7656 149.821 80.0989 164.009L119.552 230.468C98.9216 264.656 85.7762 302.828 80.9736 342.468C75.7705 341.728 70.4788 342.067 65.4162 343.463L23.3536 354.541C7.30157 358.145 4.06689 366.234 4.06689 372.333C4.06689 378.432 7.42623 386.521 23.2336 390.749L64.5456 401.452C69.2904 402.733 74.1862 403.4 79.1029 403.442H79.9727C83.5716 444.551 95.962 484.4 116.311 520.296L80.098 581.026C71.7595 595.214 75.1188 603.302 79.3532 607.656C82.2855 610.677 86.3428 612.349 90.5511 612.26C96.0303 612.005 101.348 610.333 105.983 607.411L158.374 577.547V577.542C205.108 627.302 267.644 659.318 335.334 668.136L350.76 724.885C354.99 740.688 363.203 743.926 369.302 743.926C375.4 743.926 383.49 740.567 387.843 724.885L402.9 669.385L402.906 669.38C474.156 663.328 540.799 631.625 590.439 580.156L638.1 607.286C642.741 610.208 648.053 611.88 653.532 612.135C657.741 612.224 661.798 610.557 664.73 607.531C668.959 603.177 672.319 595.089 663.985 580.901L631.881 526.27H631.876C654.324 488.811 667.907 446.713 671.574 403.197H672.449C677.271 403.212 682.079 402.629 686.755 401.452L727.823 390.624C743.75 386.519 746.99 378.181 746.99 372.332C746.99 366.482 744 358.144 728.073 354.04L728.093 354.04ZM523.627 231.212L534.705 224.863L631.522 169.732L602.902 218.388L569.429 275.258L569.424 275.263C568.616 277.44 566.663 278.982 564.361 279.268C562.059 279.56 559.788 278.539 558.47 276.632L522.257 241.044C520.413 239.867 519.424 237.732 519.715 235.565C520.012 233.399 521.538 231.602 523.627 230.961L523.627 231.212ZM336.96 164.884L369.064 46.5345L384.247 102.534L398.184 154.056L401.049 164.759C402.033 166.748 401.809 169.129 400.46 170.894C399.116 172.665 396.887 173.514 394.705 173.097H343.559C341.377 173.514 339.143 172.665 337.799 170.894C336.455 169.129 336.226 166.748 337.21 164.759L336.96 164.884ZM220.356 513.324L154.277 550.657L112.709 574.922L174.933 469.392V469.397C175.902 467.381 177.73 465.913 179.913 465.413C181.923 465.579 183.798 466.517 185.137 468.027L221.225 503.615C223.068 504.792 224.063 506.928 223.771 509.094C223.475 511.261 221.949 513.058 219.86 513.699L220.356 513.324ZM221.601 241.164L185.513 276.752V276.757C184.195 278.663 181.924 279.679 179.622 279.392C177.32 279.106 175.372 277.564 174.56 275.387V274.392L112.586 169.736L162.362 197.862L220.977 231.211H220.982C223.071 231.852 224.597 233.649 224.894 235.81C225.185 237.977 224.19 240.117 222.347 241.289L221.601 241.164ZM401.174 579.657L369.07 698.006L356.627 653.704L336.591 579.782H336.586C335.602 577.793 335.831 575.413 337.175 573.647C338.524 571.881 340.753 571.027 342.935 571.444H394.457C396.639 571.027 398.868 571.881 400.217 573.647C401.561 575.413 401.79 577.793 400.8 579.782L401.174 579.657ZM369.314 409.67C359.47 409.441 350.111 405.327 343.283 398.228C336.455 391.129 332.705 381.618 332.862 371.769C333.013 361.92 337.049 352.529 344.096 345.644C351.143 338.758 360.623 334.941 370.471 335.014C380.32 335.092 389.741 339.055 396.684 346.045C403.621 353.034 407.517 362.487 407.523 372.337C407.523 382.389 403.47 392.019 396.278 399.05C389.09 406.076 379.366 409.905 369.314 409.67ZM594.554 553.777L523.622 513.46C521.534 512.819 520.008 511.022 519.711 508.861C519.419 506.694 520.409 504.554 522.252 503.382L541.794 484.34L558.596 467.914H558.591C559.935 466.403 561.805 465.466 563.82 465.299C565.997 465.799 567.831 467.268 568.794 469.284L573.523 477.372L630.893 574.935L594.554 553.777Z"/>
                </g>
            </svg>
        `,this.num.classList.add(d.NUM_OF_MINES_NUM),this.num.textContent=0,this.numOfMines.append(this.icon,this.num),document.querySelector(".controls").prepend(this.numOfMines)}init(){this._renderMinesNum()}}class $ extends O{constructor(){super();c(this,"openMenuBtn",document.createElement("button"));c(this,"btnInner",document.createElement("span"));this.openMenuBtn.addEventListener("click",this._openPopup.bind(this,n.POPUP_MENU))}_renderBtn(){this.openMenuBtn.classList.add(E.BTN,E.ROUNDED,d.OPEN_MENU_BTN),this.btnInner.classList.add(d.OPEN_MENU_BTN_INNER),this.openMenuBtn.append(this.btnInner),document.querySelector(`.${d.CONTROLS}`).append(this.openMenuBtn)}init(){this._renderBtn()}}class x{constructor(){c(this,"toggleBtn",document.createElement("button"));c(this,"circle");c(this,"moon");c(this,"sun");({isDarkTheme:this.isDarkTheme=!0}=l),this.toggleBtn.addEventListener("click",this._toggleThemeClickHandler.bind(this))}_renderThemeToggle(){this.toggleBtn.classList.add(n.THEME_TOGGLE),this.toggleBtn.innerHTML=`
            <svg viewBox="0 0 90 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="toggler">
                    <rect class="${n.THEME_TOGGLE_WRAPPER}" id="toggler-wrapper" width="90" height="44" rx="22"/>
                    <path class="${n.THEME_TOGGLE_MOON}" id="moon"
                          d="M32.6839 24.6702C31.4893 29.4564 27.1613 33 22.005 33C15.9262 33 11 28.0738 11 21.995C11 16.8387 14.5456 12.5127 19.3298 11.3161V11.3161C20.3558 11.0589 21.1397 12.0999 21.0429 13.1532C21.0175 13.4292 21.0045 13.7087 21.0045 13.9914C21.0045 18.9636 25.0364 22.9955 30.0086 22.9955C30.2912 22.9955 30.5707 22.9824 30.8466 22.9568C31.9008 22.8593 32.9406 23.6431 32.6839 24.6702V24.6702Z"/>
                    <path class="${n.THEME_TOGGLE_CIRCLE}" id="toggle-btn"
                          d="M39 22C39 31.3888 31.3888 39 22 39C12.6112 39 5 31.3888 5 22C5 12.6112 12.6112 5 22 5C31.3888 5 39 12.6112 39 22Z"/>
                          
                    <g class="${n.THEME_TOGGLE_SUN}" id="sun">
                        <path id="sun-body"
                              d="M74.406 21.9029C74.406 25.4375 71.5406 28.3029 68.006 28.3029C64.4714 28.3029 61.606 25.4375 61.606 21.9029C61.606 18.3683 64.4714 15.5029 68.006 15.5029C71.5406 15.5029 74.406 18.3683 74.406 21.9029Z"/>
                        <rect class="${n.THEME_TOGGLE_SUN_SUNBEAM}" id="sunbeam" x="62.2622" y="17.084" width="3.4727" height="1.1601" rx="0.580049"
                              transform="rotate(-135 62.2622 17.084)" />
                        <path class="${n.THEME_TOGGLE_SUN_SUNBEAM}" id="sunbeam_2"
                              d="M68.0058 14.4727C67.6855 14.4727 67.4258 14.213 67.4258 13.8926V11.58C67.4258 11.2597 67.6855 11 68.0058 11V11C68.3262 11 68.5859 11.2597 68.5859 11.58V13.8926C68.5859 14.213 68.3262 14.4727 68.0058 14.4727V14.4727Z"/>
                        <path class="${n.THEME_TOGGLE_SUN_SUNBEAM}" id="sunbeam_3"
                              d="M73.3315 16.6802C73.105 16.4537 73.105 16.0864 73.3315 15.8599L74.9668 14.2246C75.1933 13.9981 75.5606 13.9981 75.7871 14.2246V14.2246C76.0136 14.4511 76.0136 14.8184 75.7871 15.0449L74.1519 16.6802C73.9253 16.9067 73.5581 16.9067 73.3315 16.6802V16.6802Z"/>
                        <path class="${n.THEME_TOGGLE_SUN_SUNBEAM}" id="sunbeam_4"
                              d="M75.5273 21.998C75.5273 21.6777 75.787 21.418 76.1074 21.418H78.42C78.7403 21.418 79 21.6777 79 21.998V21.998C79 22.3184 78.7403 22.5781 78.42 22.5781H76.1074C75.787 22.5781 75.5273 22.3184 75.5273 21.998V21.998Z"/>
                        <path class="${n.THEME_TOGGLE_SUN_SUNBEAM}" id="sunbeam_5"
                              d="M73.3286 27.3325C73.5551 27.106 73.9224 27.106 74.1489 27.3325L75.7842 28.9678C76.0107 29.1943 76.0107 29.5616 75.7842 29.7881V29.7881C75.5577 30.0146 75.1904 30.0146 74.9639 29.7881L73.3286 28.1528C73.1021 27.9263 73.1021 27.559 73.3286 27.3325V27.3325Z"/>
                        <path class="${n.THEME_TOGGLE_SUN_SUNBEAM}" id="sunbeam_6"
                              d="M67.998 33C67.6777 33 67.418 32.7403 67.418 32.42V30.1074C67.418 29.787 67.6777 29.5273 67.998 29.5273V29.5273C68.3184 29.5273 68.5781 29.787 68.5781 30.1074V32.42C68.5781 32.7403 68.3184 33 67.998 33V33Z"/>
                        <path class="${n.THEME_TOGGLE_SUN_SUNBEAM}" id="sunbeam_7"
                              d="M60.2188 29.7773C59.9922 29.5508 59.9922 29.1836 60.2187 28.957L61.854 27.3218C62.0805 27.0953 62.4478 27.0953 62.6743 27.3218V27.3218C62.9008 27.5483 62.9008 27.9156 62.6743 28.1421L61.0391 29.7773C60.8125 30.0039 60.4453 30.0039 60.2188 29.7773V29.7773Z"/>
                        <path class="${n.THEME_TOGGLE_SUN_SUNBEAM}" id="sunbeam_8"
                              d="M57 22.0029C57 21.6825 57.2597 21.4229 57.58 21.4229H59.8926C60.213 21.4229 60.4727 21.6825 60.4727 22.0029V22.0029C60.4727 22.3233 60.213 22.5829 59.8926 22.5829H57.58C57.2597 22.5829 57 22.3233 57 22.0029V22.0029Z"/>
                    </g>
                </g>
            </svg>
        `,document.querySelector(`.${n.MENU}`).append(this.toggleBtn),this.circle=document.querySelector(`.${n.THEME_TOGGLE_CIRCLE}`),this.moon=document.querySelector(`.${n.THEME_TOGGLE_MOON}`),this.sun=document.querySelector(`.${n.THEME_TOGGLE_SUN}`),this._initTheme()}_initTheme(){this._changeTheme(),this.isDarkTheme&&(this.sun.classList.add(n.THEME_TOGGLE_SUN_ACTIVE),[...this.sun.children].forEach(i=>i.classList.add(n.THEME_TOGGLE_SUN_SUNBEAM_ACTIVE))),this.isDarkTheme||(this.moon.classList.add(n.THEME_TOGGLE_MOON_ACTIVE),this.circle.classList.add(n.THEME_TOGGLE_CIRCLE_POS_LIGHT))}_changeTheme(){const i=document.documentElement.style,e=getComputedStyle(document.documentElement),t=s=>e.getPropertyValue(s);this.isDarkTheme&&(i.setProperty(a.COLOR_PRIMARY,t(a.COLOR_PRIMARY_DARK)),i.setProperty(a.COLOR_SECONDARY,t(a.COLOR_LIGHT_PRIMARY)),i.setProperty(a.POPUP_COLOR,t(a.POPUP_DARK)),i.setProperty(a.CELL_OPENED_EVEN,t(a.CELL_OPENED_DARK_EVEN)),i.setProperty(a.CELL_OPENED_ODD,t(a.CELL_OPENED_DARK_ODD)),i.setProperty(a.UNOPENED_CELL,t(a.UNOPENED_CELL_DARK)),i.setProperty(a.COLOR_MARK_CELL,t(a.COLOR_DARK_MARK_CELL)),i.setProperty(a.CELL_TEXT_GREEN,t(a.CELL_TEXT_DARK_GREEN)),i.setProperty(a.CELL_TEXT_YELLOW,t(a.CELL_TEXT_DARK_YELLOW)),i.setProperty(a.CELL_TEXT_RED,t(a.CELL_TEXT_DARK_RED))),this.isDarkTheme||(i.setProperty(a.COLOR_PRIMARY,t(a.COLOR_LIGHT_PRIMARY)),i.setProperty(a.COLOR_SECONDARY,t(a.COLOR_PRIMARY_DARK)),i.setProperty(a.POPUP_COLOR,t(a.POPUP_LIGHT)),i.setProperty(a.CELL_OPENED_EVEN,t(a.CELL_OPENED_LIGHT_EVEN)),i.setProperty(a.CELL_OPENED_ODD,t(a.CELL_OPENED_LIGHT_ODD)),i.setProperty(a.UNOPENED_CELL,t(a.UNOPENED_CELL_LIGHT)),i.setProperty(a.COLOR_MARK_CELL,t(a.COLOR_LIGHT_MARK_CELL)),i.setProperty(a.CELL_TEXT_GREEN,t(a.CELL_TEXT_LIGHT_GREEN)),i.setProperty(a.CELL_TEXT_YELLOW,t(a.CELL_TEXT_LIGHT_YELLOW)),i.setProperty(a.CELL_TEXT_RED,t(a.CELL_TEXT_LIGHT_RED)))}_toggleThemeClickHandler(){this.circle.classList.add(n.THEME_TOGGLE_CIRCLE_MOVE),this.circle.onanimationend=()=>this.circle.classList.remove(n.THEME_TOGGLE_CIRCLE_MOVE),this.circle.classList.toggle(n.THEME_TOGGLE_CIRCLE_POS_LIGHT),this.moon.classList.toggle(n.THEME_TOGGLE_MOON_ACTIVE),this.sun.classList.toggle(n.THEME_TOGGLE_SUN_ACTIVE),this.sun.querySelectorAll(`.${n.THEME_TOGGLE_SUN_SUNBEAM}`).forEach(i=>{i.classList.toggle(n.THEME_TOGGLE_SUN_SUNBEAM_ACTIVE)}),this.isDarkTheme=!this.isDarkTheme,l.isDarkTheme=this.isDarkTheme,h(),this._changeTheme()}init(){this._renderThemeToggle()}}class W extends O{constructor(){super();c(this,"tabs",new Set);({difficulty:this.difficulty="ease"}=l),this.tabsWrapper=document.createElement("div"),this.tabsWrapper.addEventListener("click",this._diffClickHandler.bind(this))}_renderDifficultyTabs(){this.tabsWrapper.classList.add(n.DIFF_TABS_WRAPPER);const e=document.createElement("button"),t=document.createElement("button"),s=document.createElement("button");e.textContent="Ease",t.textContent="Medium",s.textContent="Hard",this.tabs.add(e).add(t).add(s),[e,t,s].forEach((r,o)=>{r.classList.add(E.BTN,n.DIFF_TAB,`${n.DIFF_TAB}--${o}`),r.textContent.toLowerCase()===this.difficulty&&r.classList.add(n.DIFF_TAB_ACTIVE)}),this.tabsWrapper.append(e,t,s),document.querySelector(`.${n.MENU}`).append(this.tabsWrapper)}_diffClickHandler(e){const t=e.target;t.classList.contains(n.DIFF_TAB)&&(this.tabs.forEach(s=>{s.classList.remove(n.DIFF_TAB_ACTIVE)}),t.classList.add(n.DIFF_TAB_ACTIVE))}init(){this._renderDifficultyTabs()}}class K{constructor(){this.soundAdjWrapper=document.createElement("div"),this.soundElem=document.createElement("div"),{isMuted:this.isMuted=!1}=l,this.soundAdjWrapper.addEventListener("click",()=>{this.isMuted=!this.isMuted,l.isMuted=this.isMuted,h(),this.soundElem.classList.toggle(n.SOUND_ADJ_ICON_ACTIVE)})}_renderSoundAdj(){this.soundAdjWrapper.classList.add(E.BTN,n.SOUND_ADJ),this.soundElem.classList.add(n.SOUND_ADJ_ICON,!this.isMuted&&n.SOUND_ADJ_ICON_ACTIVE),this.soundElem.innerHTML=`
            <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                <g id="volume" clip-path="url(#clip0_7_11)">
                    <path id="Vector"
                          d="M13 30.0002C12.74 30.0002 12.484 29.8982 12.293 29.7072L4.586 22.0002H1C0.448 22.0002 0 21.5522 0 21.0002V11.0002C0 10.4482 0.448 10.0002 1 10.0002H4.586L12.293 2.29319C12.579 2.00719 13.009 1.92119 13.383 2.07619C13.757 2.23119 14 2.59519 14 3.00019V29.0002C14 29.4042 13.756 29.7692 13.383 29.9242C13.259 29.9752 13.129 30.0002 13 30.0002Z"/>
                    <g id="Group 1">
                        <path id="sound-low" d="M17.1572 23.1569C16.7732 23.1569 16.3892 23.0109 16.0962 22.7179C15.5102 22.1319 15.5102 21.1829 16.0962 20.5969C18.6302 18.0629 18.6302 13.9389 16.0962 11.4049C15.5102 10.8189 15.5102 9.86885 16.0962 9.28385C16.6822 8.69885 17.6312 8.69785 18.2172 9.28385C21.9212 12.9879 21.9212 19.0149 18.2172 22.7189C17.9242 23.0119 17.5402 23.1579 17.1562 23.1579L17.1572 23.1569Z"/>
                        <path id="sound-loud" d="M22.5005 25.9691C22.1165 25.9691 21.7325 25.8231 21.4395 25.5301C20.8535 24.9441 20.8535 23.9951 21.4395 23.4091C25.5335 19.3151 25.5335 12.6541 21.4395 8.56013C20.8535 7.97413 20.8535 7.02413 21.4395 6.43913C22.0255 5.85413 22.9755 5.85313 23.5605 6.43913C26.1105 8.98913 27.5145 12.3791 27.5145 15.9851C27.5145 19.5911 26.1105 22.9811 23.5605 25.5311C23.2675 25.8241 22.8835 25.9701 22.4995 25.9701L22.5005 25.9691Z"/>
                        <path id="sound-muted" d="M30 19.348v2.652h-2.652l-3.348-3.348-3.348 3.348h-2.652v-2.652l3.348-3.348-3.348-3.348v-2.652h2.652l3.348 3.348 3.348-3.348h2.652v2.652l-3.348 3.348 3.348 3.348z"></path>
                    </g>
                </g>
            </svg>
        `,this.soundAdjWrapper.append(this.soundElem),document.querySelector(`.${n.MENU}`).append(this.soundAdjWrapper)}init(){this._renderSoundAdj()}}class z{constructor(){this.minesInputElem=document.createElement("input"),this.minesWrapper=document.createElement("div"),this.minesInputElem.addEventListener("keydown",i=>{if(i.key!=="Enter")return;const e=Number.parseInt(this.minesInputElem.value);e<0||e>99||!Number.isInteger(e)||(l.numOfMines=e,h(),this.minesInputElem.value="",m.numOfMines=e,m.restartGame())})}_renderMinesInput(){this.minesWrapper.classList.add("menu__mines-num"),this.minesInputElem.classList.add("menu__mines-num__input"),this.minesInputElem.type="number",this.minesInputElem.max="99",this.minesInputElem.min="0",this.minesInputElem.placeholder="Mines",this.minesWrapper.append(this.minesInputElem),document.querySelector(`.${n.MENU}`).append(this.minesWrapper)}init(){this._renderMinesInput()}}class Y{constructor(){c(this,"gameData");this.latestResultsBtn=document.createElement("button"),this.latestResultsBtnIcon=document.createElement("div"),this.latestResults=document.createElement("div"),this.btnBack=document.createElement("button"),this.menu=document.querySelector(`.${n.MENU}`),this.popupInner=document.querySelector(`.${n.POPUP_MENU_INNER}`),this.popup=document.querySelector(`.${n.POPUP_MENU}`),{gameData:this.gameData}=l,this.latestResultsBtn.addEventListener("click",this._showLatestResults.bind(this)),this.btnBack.addEventListener("click",this._btnBackHandler.bind(this))}_showLatestResults(){this.popup.classList.add(n.POPUP_MENU_ACTIVE),this.popupInner.style.translate="0 -100%",this.popup.style.height="80vh",this.popup.style.width="50vw",this.latestResults.style.cssText=`
            opacity: 1;
            visibility: visible;
        `}_btnBackHandler(){this.popup.classList.remove(n.POPUP_MENU_ACTIVE),this.popupInner.style.translate="0",this.popup.style="",this.latestResults.style.cssText=`
            opacity: 0;
            visibility: hidden;
        `}_renderLatestResultsBtn(){this.latestResultsBtn.classList.add(E.BTN,E.ROUNDED,n.LATEST_RESULT_BTN),this.latestResultsBtnIcon.classList.add(n.LATEST_RESULT_BTN_ICON),this.latestResultsBtnIcon.innerHTML=`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                <path d="M12 2h20v4h-20v-4zM12 14h20v4h-20v-4zM12 26h20v4h-20v-4zM0 4c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4s-4-1.791-4-4zM0 16c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4s-4-1.791-4-4zM0 28c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4s-4-1.791-4-4z"></path>
            </svg>
        `,this.latestResultsBtn.append(this.latestResultsBtnIcon),this.menu.append(this.latestResultsBtn)}_renderLatestResultsMenu(){this.latestResults.classList.add(n.LATEST_RESULTS),this.popupInner.append(this.latestResults)}_renderBackBtn(){this.btnBack.innerHTML="",this.btnBack.classList.add(E.BTN,E.ROUNDED,n.LATEST_RESULTS_BTN_BACK);const i=document.createElement("div"),e=document.createElement("div"),t=`
            <svg class="${n.LATEST_RESULTS_BTN_BACK_ICON}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <path d="M10.707 7.050l-0.707-0.707-5.657 5.657 1.414 1.414 4.243-4.242 4.243 4.242 1.414-1.414z"></path>
            </svg>
        `;e.innerHTML=t,i.innerHTML=t,this.btnBack.append(i,e),e.setAttribute("id","lower"),i.setAttribute("id","upper"),this.latestResults.append(this.btnBack)}renderGameResults(){this.latestResults.innerHTML="",this._renderBackBtn(),this.gameData.forEach(({isWin:i,timer:e,numOfMines:t,numOfFlags:s,counterNum:r})=>{const o=document.createElement("div");o.classList.add(n.LATEST_RES),i?o.classList.add(n.LATEST_RES_WIN):o.classList.add(n.LATEST_RES_LOSE),o.innerHTML=`
                <div class="${n.LATEST_RES_BLOCK}">
                    ${i?"ðŸŽ‰  ":"ðŸ’¥  "}Time:
                    <span>${e}s</span>
                </div>
                
                <div class="${n.LATEST_RES_BLOCK}">
                    Mines:
                    <span>${t}</span>
                </div>
                
                <div class="${n.LATEST_RES_BLOCK}">
                    Marks:
                    <span>${s}</span>
                </div>
                            
                <div class="${n.LATEST_RES_BLOCK}">
                    Clicks:
                    <span>${r}</span>
                </div>
            `,this.latestResults.append(o)})}init(){this._renderLatestResultsBtn(),this._renderLatestResultsMenu(),this.renderGameResults()}}new B().init();new O().init(n.POPUP_MENU);new O().init(C.POPUP_WIN,"You Win! <br> ðŸŽ‰ðŸŽ‰ðŸŽ‰",!1);new O().init(C.POPUP_LOSE,"You Lose( <br> ðŸ’¥ðŸ’¥ðŸ’¥",!1);new H().init();new F().init();const S=new b;S.init();new k().init();new V().init();new $().init();new x().init();new W().init();new K().init();new z().init();const g=new Y;g.init();const m=new v;m.init();
